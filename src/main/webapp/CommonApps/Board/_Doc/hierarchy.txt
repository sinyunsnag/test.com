^^a 예전에 공부하면서 만들어본 계층형 게시판이다..(소스 포함..헤헤 창피해..)

물론 로직이 훌륭하진 못하지만, 나름대로 혼자 만들어본 계층형 게시판이라 의미가 깊었었다..

휴....... 그거 만들땐 정말.... ㅠㅠ

암튼!

가장 기본이라고 하는 계층형 게시판!

예전 공부버전이다...

소스에 대한 설명은... ㅡ,.ㅡ;

 

일단 업데이트가 이루어지지않는 계층형 게시판 로직은 아직 생각해 보지 않았다.

(인덱스 번호를 일정 단위로 부여해서 그 사이에 끼워넣는 식의 한계가 있는 게시판이 아닌 계층형 게시판...)

 

가장 중요한 로직은!

바로 리플을 달때 어떻게 계층적으로, 부모 글의 밑으로 순차적으로 들어가느냐인데...

(물론 화면에 리스트 형식으로 뿌려주는것 또한 관건이지만, 위에 말한 내용에 비하면 조금은 미미하리라 생각한다.)

 

간단한 설명.. ^^a(솔직히 기억이 가물가물하다.. 요노무 기억력..ㅠㅠ 최악이야..ㅠㅠ)

 

첫째,

포함된 파일의 테이블 구성을 면 step, level, group 이란 컬럼이 있다.

역순으로..

group이란 리플글이 어떤 부모 글에 포함되는지를 나타내는 정보이며,

level 이란 가로방향으로 생각했을때, 얼마나 안으로(?)들어가있는지를 나타내는 정보이다.

설명이 부족한거 같아서 그림으로...

1. 부모글.....

     ㄴ 자식글 (레벨은 1)

     ㄴ 자식글 (역시 레벨은 1)

          ㄴ 자식의 자식글 (레벨은 2)

일반적으로 많이 볼수 있는 형태라 이해하리라 생각된다.

step 이란 부모글에서 몇번째에 있는 글인가를 나타내는 정보이다

(즉, 많은 자식글 사이에 새로운 자식글이 낑겨 들어가게 되면 밑의 자식글들은 업데이트가 이루어져야 하는 부분이다.)

 

일단 요로코롬 됐고....

 

자식글(리플)이 달리는 곳은!!!

그곳은 바로!!!

한마디로 말해서!!!

자식글의 레벨보다 레벨이 작아지는 부분!!! 바로 이부분이다..

예를 들면...

1 a

     ㄴ b    <-- 이 글의 리플을 달자~~

         ㄴ c

         ㄴ (요기에 글이 생겨야 할것이다!!!!)

     ㄴ d

2 e

.

.

요롷게 되어있다고 보자

b 글의 리플을 단다고 하면, 그 밑의 ()이 부분에 리플글이 달려야 제대로 계층을 형성하면 리플이 게시된것이다.

즉, 소스에서 보는(소스까묵읐음.. ㅡ0ㅡ) 로직은

d글... 즉, 새리플의 레벨보다 레벨이 작아지는 글의 바로 위에 생기면 되는것이다!!!

요기서 또한가지 생각해 볼것이 있는데.. 그것은

a

     ㄴ b <- 이 글의 리플을 단다면

          ㄴ c 

          ㄴ (요기에 생겨야 성공!)

이런식의 글이 있을때는...

자신보다 레벨이 작아지는 글이 없다.

그런 경우 역시 생각해야 한다.

 

위에서 설명한것을 토대로 요로코롬 조로코롬 만들면 계층형 게시판이 만들어 진다.. ㅡ0ㅡ;;;

 

중요한것은...

내가 만든 계층형 게시판이 정말 멋진것은 아닐꺼란 거다.. ^^;;

훨씬 훌륭한고 멋진, 성능또한 우수한 계층형 게시판이 많을것이다.

그런 내용을들 가져다 쓰는것도 좋겠지만, 어떤 로직으로 이루어 졌는지를 공부하는것이 더 도움이

될꺼란 생각이 든다.

소스를 모조리 이해하고, 로직을 모조리 이해하고, 잘못된점을 수정하고, 성능향상을 꾀하는것 또한 많은 도움이 될것같다...

혹은, 결과를 보고, 스스로 로직을 구현해 보는것도 멋진 방법일듯.. ^^

 

^^;; 내 소스는 그냥 재미삼아 보는 소스..ㅎㅎ

계층형 게시판을 공부하는 분들에게 미미하나마 도움이 되었으면 하는 바램입니당~
